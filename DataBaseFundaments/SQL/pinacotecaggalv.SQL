--   -------------------------------------------------- 
--   Generated by Enterprise Architect Version 6.1.787
--   Created On : miércoles, 04 abril, 2018 
--   DBMS       : Oracle 
--   -------------------------------------------------- 




--  Create Tables 
CREATE TABLE Cuadro ( 
	codigo NUMBER(6) NOT NULL,
	nombre VARCHAR(35) NOT NULL,
	n_pinacoteca VARCHAR(25) NOT NULL,
	tecnica VARCHAR(18) NOT NULL,
	id_pintor VARCHAR(11) NOT NULL
)
;

CREATE TABLE Pinacoteca ( 
	nombre VARCHAR(25) NOT NULL,
	ciudad VARCHAR(25) NOT NULL,
	area NUMBER(7,2) NOT NULL    --  area de la pinacoteca en metros cuadrados 
)
;
COMMENT ON TABLE Pinacoteca
    IS 'Datos d pinacoteas'
;

COMMENT ON COLUMN Pinacoteca.area
    IS 'area de la pinacoteca en metros cuadrados'
;

CREATE TABLE Pintor ( 
	Id_pintor VARCHAR(11) NOT NULL,    --  Id del pintor. 
	nombre VARCHAR(25),
	apellido VARCHAR(15),
	id_maestro VARCHAR(11)
)
;

COMMENT ON COLUMN Pintor.Id_pintor
    IS 'Id del pintor.'
;


--  Create Primary Key Constraints 
ALTER TABLE Cuadro ADD CONSTRAINT PK_Cuadro 
	PRIMARY KEY (codigo)
;

ALTER TABLE Pinacoteca ADD CONSTRAINT PK_Pinacoteca 
	PRIMARY KEY (nombre)
;

ALTER TABLE Pintor ADD CONSTRAINT PK_Pintor 
	PRIMARY KEY (Id_pintor)
;




--  Create Foreign Key Constraints 
ALTER TABLE Cuadro ADD CONSTRAINT FK_Cuadro_Pinacoteca 
	FOREIGN KEY (n_pinacoteca) REFERENCES Pinacoteca (nombre)
;

ALTER TABLE Cuadro ADD CONSTRAINT FK_Cuadro_Pintor 
	FOREIGN KEY (id_pintor) REFERENCES Pintor (Id_pintor)
;

ALTER TABLE Pintor ADD CONSTRAINT FK_Pintor_Pintor 
	FOREIGN KEY (id_maestro) REFERENCES Pintor (Id_pintor)
;
